<%= render 'shared/errors', object: puzzle %>

<article class="card my-3">
    <section class="card-header">
        <%=puzzle.user.show_avatar%>
        <%=puzzle.user.name_or_email%>
    </section>

    <div class="card-body">
      <h4><%= puzzle.title %></h2>
      <%if puzzle.solutions.exists? %>
      <h5>Puzzle solved: <%= puzzle.solutions.where(user: current_user).order(created_at: :asc).first.solved%></h5>
      <%end%>
      <section class="card-text">
        <time datetime="<%= puzzle.formatted_created_at %>">
          <small><%= puzzle.formatted_created_at %></small>
        </time>

        <p class="my-2">
          <%= truncate strip_tags(puzzle.body) %>
        </p>
      </section>

      <%= link_to 'Show', puzzle_path(puzzle), class: 'btn btn-primary' %> 
      <%= link_to 'Edit', edit_puzzle_path(puzzle), class: 'btn btn-secondary' %>
      <%= link_to 'Destroy', puzzle_path(puzzle), class: 'btn btn-danger',
        data: {method: :delete, confirm: 'Are you sure?'} %>
    </div>
</article>
